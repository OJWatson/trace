

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial: Gaza Conflict Casualty Analysis &mdash; TRACE 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data Module" href="../api/data.html" />
    <link rel="prev" title="Tutorial: Basic Example with Simulated Data" href="01_basic_example.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            TRACE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Model Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../model/00_overview.html">Model Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/01_background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/02_description.html">Model Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/03_implementation.html">Model Implementation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01_basic_example.html">Tutorial: Basic Example with Simulated Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial: Gaza Conflict Casualty Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#learning-objectives">Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#warning-sensitive-content">Warning: Sensitive Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-acquisition">1. Data Acquisition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#acled-conflict-events">1.1 ACLED Conflict Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mortality-data">1.2 Mortality Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hospital-data-simulated">1.3 Hospital Data (Simulated)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exploratory-analysis">2. Exploratory Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#event-casualty-relationship">2.1 Event-Casualty Relationship</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temporal-patterns">2.2 Temporal Patterns</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#model-fitting">3. Model Fitting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#specify-delay-distribution">3.1 Specify Delay Distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-mcmc-inference">3.2 Run MCMC Inference</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examine-results">3.3 Examine Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#model-diagnostics">4. Model Diagnostics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#convergence-assessment">4.1 Convergence Assessment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trace-plots">4.2 Trace Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#posterior-distributions">4.3 Posterior Distributions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#posterior-predictive-checks">5. Posterior Predictive Checks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#generate-predictions">5.1 Generate Predictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visual-assessment">5.2 Visual Assessment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quantitative-checks">5.3 Quantitative Checks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#policy-relevant-forecasting">6. Policy-Relevant Forecasting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#baseline-forecast">6.1 Baseline Forecast</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ceasefire-scenario">6.2 Ceasefire Scenario</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scenario-comparison-visualization">6.3 Scenario Comparison Visualization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sensitivity-analysis">7. Sensitivity Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#alternative-delay-distributions">7.1 Alternative Delay Distributions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#interpretation-and-caveats">8. Interpretation and Caveats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#key-findings">8.1 Key Findings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">8.2 Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#appropriate-use">8.3 Appropriate Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#extensions-and-future-work">9. Extensions and Future Work</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-improvements">9.1 Data Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-extensions">9.2 Model Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#policy-applications">9.3 Policy Applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/data.html">Data Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/model.html">Model Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/simulate.html">Simulate Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/analysis.html">Analysis Module</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TRACE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Tutorial: Gaza Conflict Casualty Analysis</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorials/02_gaza_analysis.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="tutorial-gaza-conflict-casualty-analysis">
<h1>Tutorial: Gaza Conflict Casualty Analysis<a class="headerlink" href="#tutorial-gaza-conflict-casualty-analysis" title="Link to this heading"></a></h1>
<hr class="docutils" />
<p>This tutorial demonstrates a real-world application of <strong>TRACE</strong> to the Gaza conflict (October 2023 - December 2024). We integrate ACLED conflict event data with mortality data from Gaza’s Ministry of Health via Tech for Palestine, demonstrating the complete workflow from data acquisition to policy-relevant forecasting.</p>
<section id="learning-objectives">
<h2>Learning Objectives<a class="headerlink" href="#learning-objectives" title="Link to this heading"></a></h2>
<p>By the end of this tutorial, you will be able to:</p>
<ol class="arabic simple">
<li><p>Load and process real ACLED conflict event data</p></li>
<li><p>Fetch live mortality data from online sources</p></li>
<li><p>Handle missing hospital data through simulation</p></li>
<li><p>Fit models to real, messy data</p></li>
<li><p>Interpret results in context</p></li>
<li><p>Generate policy-relevant scenario forecasts</p></li>
<li><p>Communicate uncertainty appropriately</p></li>
</ol>
</section>
<section id="warning-sensitive-content">
<h2>Warning: Sensitive Content<a class="headerlink" href="#warning-sensitive-content" title="Link to this heading"></a></h2>
<p>This tutorial analyzes real data from an active conflict involving significant civilian casualties. The methods and results should be interpreted with appropriate care and respect for the humanitarian situation.</p>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h2>
<p>Install <strong>TRACE</strong> with data dependencies:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
<p>Import libraries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;src&#39;</span><span class="p">)</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">arviz</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">az</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">trace.data</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">load_example_acled_data</span><span class="p">,</span>
    <span class="n">prepare_acled_events</span><span class="p">,</span>
    <span class="n">fetch_palestine_mortality_data</span><span class="p">,</span>
    <span class="n">prepare_mortality_data</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">trace.analysis</span><span class="w"> </span><span class="kn">import</span> <span class="n">run_inference</span><span class="p">,</span> <span class="n">posterior_predictive</span><span class="p">,</span> <span class="n">forecast</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">trace.analysis</span><span class="w"> </span><span class="kn">import</span> <span class="n">plot_fit</span><span class="p">,</span> <span class="n">plot_forecast</span>
</pre></div>
</div>
</section>
<section id="data-acquisition">
<h2>1. Data Acquisition<a class="headerlink" href="#data-acquisition" title="Link to this heading"></a></h2>
<section id="acled-conflict-events">
<h3>1.1 ACLED Conflict Events<a class="headerlink" href="#acled-conflict-events" title="Link to this heading"></a></h3>
<p><strong>ACLED</strong> (Armed Conflict Location &amp; Event Data Project) provides geo-coded data on political violence and protests worldwide <span id="id1">[<a class="reference internal" href="#id18" title="Clionadh Raleigh, Andrew Linke, Håvard Hegre, and Joakim Karlsen. Introducing acled: an armed conflict location and event dataset. Journal of Peace Research, 47(5):651–660, 2010.">Raleigh <em>et al.</em>, 2010</a>]</span>. For Gaza, this includes:</p>
<ul class="simple">
<li><p>Airstrikes and explosions</p></li>
<li><p>Armed clashes</p></li>
<li><p>Violence against civilians</p></li>
<li><p>Shelling and artillery attacks</p></li>
</ul>
<p><strong>Load Example Data</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load bundled ACLED data for Palestine</span>
<span class="n">events_df</span> <span class="o">=</span> <span class="n">load_example_acled_data</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total events in dataset: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">events_df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Date range: </span><span class="si">{</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;event_date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;event_date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Event types: </span><span class="si">{</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;event_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Expected Output</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Total</span> <span class="n">events</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span> <span class="mi">27815</span>
<span class="n">Date</span> <span class="nb">range</span><span class="p">:</span> <span class="mi">2023</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">04</span> <span class="n">to</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">04</span>
<span class="n">Event</span> <span class="n">types</span><span class="p">:</span>
<span class="n">Explosions</span><span class="o">/</span><span class="n">Remote</span> <span class="n">violence</span>    <span class="mi">15234</span>
<span class="n">Battles</span>                        <span class="mi">8901</span>
<span class="n">Violence</span> <span class="n">against</span> <span class="n">civilians</span>     <span class="mi">2134</span>
<span class="o">...</span>
</pre></div>
</div>
<p><strong>Explore Event Distribution</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Geographic distribution</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">],</span> <span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">],</span> 
           <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Longitude&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Latitude&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;ACLED Events: Palestine (Sept 2023 - Dec 2024)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;acled_map.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="mortality-data">
<h3>1.2 Mortality Data<a class="headerlink" href="#mortality-data" title="Link to this heading"></a></h3>
<p>Fetch daily casualty reports from <strong>Tech for Palestine</strong> <span id="id2">[<a class="reference internal" href="#id19" title="Tech for Palestine. Gaza casualties dataset. https://data.techforpalestine.org, 2024. Accessed: 2024-12-04.">Tech for Palestine, 2024</a>]</span>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fetch mortality data from Gaza Ministry of Health</span>
<span class="n">mortality_df</span> <span class="o">=</span> <span class="n">fetch_palestine_mortality_data</span><span class="p">(</span>
    <span class="n">start_date</span><span class="o">=</span><span class="s1">&#39;2023-10-07&#39;</span><span class="p">,</span>  <span class="c1"># Start of major escalation</span>
    <span class="n">end_date</span><span class="o">=</span><span class="s1">&#39;2023-12-31&#39;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Days of mortality data: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">mortality_df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total reported deaths: </span><span class="si">{</span><span class="n">mortality_df</span><span class="p">[</span><span class="s1">&#39;ext_killed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columns: </span><span class="si">{</span><span class="n">mortality_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Expected Output</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Days</span> <span class="n">of</span> <span class="n">mortality</span> <span class="n">data</span><span class="p">:</span> <span class="mi">86</span>
<span class="n">Total</span> <span class="n">reported</span> <span class="n">deaths</span><span class="p">:</span> <span class="mi">21822</span>
<span class="n">Columns</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;report_date&#39;</span><span class="p">,</span> <span class="s1">&#39;report_source&#39;</span><span class="p">,</span> <span class="s1">&#39;killed&#39;</span><span class="p">,</span> <span class="s1">&#39;killed_cum&#39;</span><span class="p">,</span> 
          <span class="s1">&#39;ext_killed&#39;</span><span class="p">,</span> <span class="s1">&#39;injured&#39;</span><span class="p">,</span> <span class="s1">&#39;ext_injured&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Data Source Notes</strong>:</p>
<ul class="simple">
<li><p><strong>Primary Source</strong>: Gaza Ministry of Health Telegram channel</p></li>
<li><p><strong>Methodology</strong>: Only counts direct war casualties (not indirect deaths from starvation, disease)</p></li>
<li><p><strong>Quality</strong>: Conservative estimates, likely under-reporting actual toll <span id="id3">[<a class="reference internal" href="#id20" title="Zeinab Jamaluddine, Zeina Chen, Hana Abukmail, Reem Assi, Hala Ghattas, Rima T Nakkash, Fouad M Maliha, Andrew J Tatem, Hala Aly, Loulou Kobeissi, and others. Estimating the true toll of the israel-gaza conflict. The Lancet, 404(10449):213–215, 2024.">Jamaluddine <em>et al.</em>, 2024</a>]</span></p></li>
<li><p><strong>Gaps</strong>: Some days missing due to communication blackouts</p></li>
<li><p><strong>Extrapolation</strong>: <code class="docutils literal notranslate"><span class="pre">ext_killed</span></code> fields fill gaps using linear interpolation</p></li>
</ul>
<p><strong>Visualize Mortality Trends</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Daily deaths</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mortality_df</span><span class="p">[</span><span class="s1">&#39;report_date&#39;</span><span class="p">],</span> <span class="n">mortality_df</span><span class="p">[</span><span class="s1">&#39;ext_killed&#39;</span><span class="p">],</span> 
             <span class="s1">&#39;o-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkred&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Daily Deaths&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gaza Daily Mortality (Oct 7 - Dec 31, 2023)&#39;</span><span class="p">,</span> 
                   <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Cumulative deaths</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mortality_df</span><span class="p">[</span><span class="s1">&#39;report_date&#39;</span><span class="p">],</span> <span class="n">mortality_df</span><span class="p">[</span><span class="s1">&#39;ext_killed_cum&#39;</span><span class="p">],</span>
             <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkred&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Cumulative Deaths&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Cumulative Casualties&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;mortality_trends.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="hospital-data-simulated">
<h3>1.3 Hospital Data (Simulated)<a class="headerlink" href="#hospital-data-simulated" title="Link to this heading"></a></h3>
<p><strong>Note</strong>: Real hospital-level data is not publicly available. We simulate plausible hospital admissions based on conflict event locations and reported casualties.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define analysis period</span>
<span class="n">analysis_start</span> <span class="o">=</span> <span class="s1">&#39;2023-10-07&#39;</span>
<span class="n">analysis_end</span> <span class="o">=</span> <span class="s1">&#39;2023-12-31&#39;</span>

<span class="c1"># Prepare ACLED events for this period</span>
<span class="n">events_by_day</span><span class="p">,</span> <span class="n">event_days</span><span class="p">,</span> <span class="n">event_coords</span><span class="p">,</span> <span class="n">dates</span> <span class="o">=</span> <span class="n">prepare_acled_events</span><span class="p">(</span>
    <span class="n">events_df</span><span class="p">,</span> <span class="n">analysis_start</span><span class="p">,</span> <span class="n">analysis_end</span>
<span class="p">)</span>

<span class="n">T</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Analysis period: </span><span class="si">{</span><span class="n">T</span><span class="si">}</span><span class="s2"> days&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Events in period: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">event_days</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Days with events: </span><span class="si">{</span><span class="p">(</span><span class="n">events_by_day</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Hospital coordinates (major Gaza facilities)</span>
<span class="c1"># Based on known hospital locations from OpenStreetMap</span>
<span class="n">hospital_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="mf">31.5217</span><span class="p">,</span> <span class="mf">34.4517</span><span class="p">],</span>  <span class="c1"># Al-Shifa Hospital, Gaza City</span>
    <span class="p">[</span><span class="mf">31.5189</span><span class="p">,</span> <span class="mf">34.4642</span><span class="p">],</span>  <span class="c1"># Al-Quds Hospital, Gaza City</span>
    <span class="p">[</span><span class="mf">31.3543</span><span class="p">,</span> <span class="mf">34.3065</span><span class="p">],</span>  <span class="c1"># Nasser Medical Complex, Khan Younis</span>
    <span class="p">[</span><span class="mf">31.2892</span><span class="p">,</span> <span class="mf">34.2533</span><span class="p">],</span>  <span class="c1"># European Gaza Hospital, Rafah</span>
    <span class="p">[</span><span class="mf">31.5453</span><span class="p">,</span> <span class="mf">34.5131</span><span class="p">],</span>  <span class="c1"># Indonesian Hospital, North Gaza</span>
<span class="p">])</span>

<span class="n">n_hospitals</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">hospital_coords</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Modeling </span><span class="si">{</span><span class="n">n_hospitals</span><span class="si">}</span><span class="s2"> hospitals&quot;</span><span class="p">)</span>

<span class="c1"># Simulate hospital injuries based on events</span>
<span class="c1"># Assumption: ~5 injured per event on average</span>
<span class="n">injuries_per_event</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">injuries_obs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">T</span><span class="p">,</span> <span class="n">n_hospitals</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">events_by_day</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">expected_inj</span> <span class="o">=</span> <span class="n">injuries_per_event</span> <span class="o">*</span> <span class="n">events_by_day</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">day_injuries</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">poisson</span><span class="p">(</span><span class="n">expected_inj</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">day_injuries</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># Allocate to hospitals (weighted by capacity/importance)</span>
            <span class="c1"># Al-Shifa and Nasser are largest facilities</span>
            <span class="n">hosp_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
            <span class="n">alloc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multinomial</span><span class="p">(</span><span class="n">day_injuries</span><span class="p">,</span> <span class="n">hosp_weights</span><span class="p">)</span>
            <span class="n">injuries_obs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">alloc</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total simulated injuries: </span><span class="si">{</span><span class="n">injuries_obs</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Rationale for Simulation</strong>:</p>
<ul class="simple">
<li><p>Hospital-level data is classified or unavailable</p></li>
<li><p>Aggregate mortality is well-documented</p></li>
<li><p>Simulation allows demonstrating methodology while awaiting real data</p></li>
<li><p>Results should be interpreted as illustrative, not definitive</p></li>
</ul>
</section>
</section>
<section id="exploratory-analysis">
<h2>2. Exploratory Analysis<a class="headerlink" href="#exploratory-analysis" title="Link to this heading"></a></h2>
<section id="event-casualty-relationship">
<h3>2.1 Event-Casualty Relationship<a class="headerlink" href="#event-casualty-relationship" title="Link to this heading"></a></h3>
<p>Examine the relationship between event counts and deaths:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prepare mortality data to match analysis period</span>
<span class="n">deaths_obs</span> <span class="o">=</span> <span class="n">prepare_mortality_data</span><span class="p">(</span>
    <span class="n">mortality_df</span><span class="p">,</span> <span class="n">analysis_start</span><span class="p">,</span> <span class="n">analysis_end</span><span class="p">,</span> <span class="n">use_extrapolated</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Aggregate by week for visualization</span>
<span class="n">week_events</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">week_deaths</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">week</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="mi">7</span><span class="p">):</span>
    <span class="n">week_events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">events_by_day</span><span class="p">[</span><span class="n">week</span><span class="p">:</span><span class="n">week</span><span class="o">+</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">week_deaths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deaths_obs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">week</span><span class="p">:</span><span class="n">week</span><span class="o">+</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

<span class="c1"># Scatter plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">week_events</span><span class="p">,</span> <span class="n">week_deaths</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;darkred&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Weekly Conflict Events&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Weekly Deaths&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Event Counts vs. Casualties (Gaza, Oct-Dec 2023)&#39;</span><span class="p">,</span> 
             <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Add correlation</span>
<span class="n">corr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span><span class="n">week_events</span><span class="p">,</span> <span class="n">week_deaths</span><span class="p">)[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Correlation: </span><span class="si">{</span><span class="n">corr</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> 
        <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
        <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s1">&#39;round&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;wheat&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;events_vs_deaths.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Interpretation</strong>: Positive correlation expected, but relationship is noisy due to:</p>
<ul class="simple">
<li><p>Varying lethality of event types</p></li>
<li><p>Delayed deaths (not immediate)</p></li>
<li><p>Under-reporting and measurement error</p></li>
<li><p>Varying civilian exposure</p></li>
</ul>
</section>
<section id="temporal-patterns">
<h3>2.2 Temporal Patterns<a class="headerlink" href="#temporal-patterns" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Events</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">events_by_day</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Events&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Daily Conflict Events&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Injuries (total across hospitals)</span>
<span class="n">total_inj</span> <span class="o">=</span> <span class="n">injuries_obs</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">total_inj</span><span class="p">,</span> <span class="s1">&#39;o-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Hospital Admissions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Simulated Daily Hospital Injuries&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Deaths</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">deaths_obs</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="s1">&#39;o-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkred&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Deaths&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Reported Daily Deaths (Ministry of Health)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Highlight major events (example: Nov humanitarian pause)</span>
<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="n">dates</span><span class="p">[</span><span class="mi">37</span><span class="p">],</span> <span class="n">dates</span><span class="p">[</span><span class="mi">44</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> 
               <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Humanitarian Pause&#39;</span><span class="p">)</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;temporal_patterns.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="model-fitting">
<h2>3. Model Fitting<a class="headerlink" href="#model-fitting" title="Link to this heading"></a></h2>
<section id="specify-delay-distribution">
<h3>3.1 Specify Delay Distribution<a class="headerlink" href="#specify-delay-distribution" title="Link to this heading"></a></h3>
<p>Based on medical literature on trauma outcomes {cite}`Champion2003, Eastridge2012}:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Delay distribution from injury to death</span>
<span class="c1"># Most deaths occur within first few days</span>
<span class="n">delay_probs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">])</span>  <span class="c1"># Days 1-4</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Delay distribution: </span><span class="si">{</span><span class="n">delay_probs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected delay: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">delay_probs</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> days&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="run-mcmc-inference">
<h3>3.2 Run MCMC Inference<a class="headerlink" href="#run-mcmc-inference" title="Link to this heading"></a></h3>
<p>Fit the full Bayesian model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mcmc</span><span class="p">,</span> <span class="n">samples</span> <span class="o">=</span> <span class="n">run_inference</span><span class="p">(</span>
    <span class="n">events_by_day</span><span class="o">=</span><span class="n">events_by_day</span><span class="p">,</span>
    <span class="n">event_day_index</span><span class="o">=</span><span class="n">event_days</span><span class="p">,</span>
    <span class="n">event_coords</span><span class="o">=</span><span class="n">event_coords</span><span class="p">,</span>
    <span class="n">hospital_coords</span><span class="o">=</span><span class="n">hospital_coords</span><span class="p">,</span>
    <span class="n">injuries_obs</span><span class="o">=</span><span class="n">injuries_obs</span><span class="p">,</span>
    <span class="n">deaths_obs</span><span class="o">=</span><span class="n">deaths_obs</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">delay_probs</span><span class="o">=</span><span class="n">delay_probs</span><span class="p">,</span>
    <span class="n">num_warmup</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
    <span class="n">num_samples</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
    <span class="n">num_chains</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">rng_seed</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Runtime</strong>: 5-10 minutes on CPU, 1-2 minutes on GPU</p>
</section>
<section id="examine-results">
<h3>3.3 Examine Results<a class="headerlink" href="#examine-results" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print parameter summaries</span>
<span class="n">mcmc</span><span class="o">.</span><span class="n">print_summary</span><span class="p">()</span>

<span class="c1"># Extract posterior means</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Posterior Estimates ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;mu_w (wounded per event):    </span><span class="si">{</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;mu_w&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;(95% CI: [</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;mu_w&#39;</span><span class="p">],</span><span class="w"> </span><span class="mf">2.5</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;mu_w&#39;</span><span class="p">],</span><span class="w"> </span><span class="mf">97.5</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">])&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;mu_i (immediate deaths):     </span><span class="si">{</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;mu_i&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;(95% CI: [</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;mu_i&#39;</span><span class="p">],</span><span class="w"> </span><span class="mf">2.5</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;mu_i&#39;</span><span class="p">],</span><span class="w"> </span><span class="mf">97.5</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">])&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;p_late (hospital fatality):  </span><span class="si">{</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;p_late&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;(95% CI: [</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;p_late&#39;</span><span class="p">],</span><span class="w"> </span><span class="mf">2.5</span><span class="p">)</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">, &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;p_late&#39;</span><span class="p">],</span><span class="w"> </span><span class="mf">97.5</span><span class="p">)</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">])&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ell (spatial scale, degrees):</span><span class="si">{</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;ell&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;(95% CI: [</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;ell&#39;</span><span class="p">],</span><span class="w"> </span><span class="mf">2.5</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;ell&#39;</span><span class="p">],</span><span class="w"> </span><span class="mf">97.5</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">])&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Expected Output</strong> (approximate):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">===</span> <span class="n">Posterior</span> <span class="n">Estimates</span> <span class="o">===</span>
<span class="n">mu_w</span> <span class="p">(</span><span class="n">wounded</span> <span class="n">per</span> <span class="n">event</span><span class="p">):</span>    <span class="mf">4.98</span> <span class="p">(</span><span class="mi">95</span><span class="o">%</span> <span class="n">CI</span><span class="p">:</span> <span class="p">[</span><span class="mf">4.92</span><span class="p">,</span> <span class="mf">5.04</span><span class="p">])</span>
<span class="n">mu_i</span> <span class="p">(</span><span class="n">immediate</span> <span class="n">deaths</span><span class="p">):</span>     <span class="mf">0.62</span> <span class="p">(</span><span class="mi">95</span><span class="o">%</span> <span class="n">CI</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.35</span><span class="p">,</span> <span class="mf">0.92</span><span class="p">])</span>
<span class="n">p_late</span> <span class="p">(</span><span class="n">hospital</span> <span class="n">fatality</span><span class="p">):</span>  <span class="mf">0.489</span> <span class="p">(</span><span class="mi">95</span><span class="o">%</span> <span class="n">CI</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.432</span><span class="p">,</span> <span class="mf">0.548</span><span class="p">])</span>
<span class="n">ell</span> <span class="p">(</span><span class="n">spatial</span> <span class="n">scale</span><span class="p">,</span> <span class="n">degrees</span><span class="p">):</span> <span class="mf">0.80</span> <span class="p">(</span><span class="mi">95</span><span class="o">%</span> <span class="n">CI</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.74</span><span class="p">,</span> <span class="mf">0.87</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Interpretation</strong>:</p>
<ul class="simple">
<li><p><strong>mu_w ≈ 5.0</strong>: Each conflict event produces ~5 hospital admissions</p></li>
<li><p><strong>mu_i ≈ 0.6</strong>: ~0.6 immediate deaths per event (additional to hospital deaths)</p></li>
<li><p><strong>p_late ≈ 0.49</strong>: ~49% hospital fatality rate (very high, reflects conflict severity)</p></li>
<li><p><strong>ell ≈ 0.8</strong>: Spatial allocation decays over ~0.8 degrees (~80 km, reasonable for Gaza’s size)</p></li>
</ul>
</section>
</section>
<section id="model-diagnostics">
<h2>4. Model Diagnostics<a class="headerlink" href="#model-diagnostics" title="Link to this heading"></a></h2>
<section id="convergence-assessment">
<h3>4.1 Convergence Assessment<a class="headerlink" href="#convergence-assessment" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check Rhat (should be &lt; 1.01)</span>
<span class="n">idata</span> <span class="o">=</span> <span class="n">az</span><span class="o">.</span><span class="n">from_numpyro</span><span class="p">(</span><span class="n">mcmc</span><span class="p">)</span>
<span class="n">rhat</span> <span class="o">=</span> <span class="n">az</span><span class="o">.</span><span class="n">rhat</span><span class="p">(</span><span class="n">idata</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Max Rhat: </span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">rhat</span><span class="o">.</span><span class="n">max</span><span class="p">())</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">float</span><span class="p">(</span><span class="n">rhat</span><span class="o">.</span><span class="n">max</span><span class="p">())</span> <span class="o">&lt;</span> <span class="mf">1.01</span><span class="p">,</span> <span class="s2">&quot;Convergence issue: Rhat &gt;= 1.01&quot;</span>

<span class="c1"># Check effective sample size</span>
<span class="n">ess</span> <span class="o">=</span> <span class="n">az</span><span class="o">.</span><span class="n">ess</span><span class="p">(</span><span class="n">idata</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Min ESS: </span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">ess</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">float</span><span class="p">(</span><span class="n">ess</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;Low effective sample size&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✓ Convergence diagnostics passed&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="trace-plots">
<h3>4.2 Trace Plots<a class="headerlink" href="#trace-plots" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">az</span><span class="o">.</span><span class="n">plot_trace</span><span class="p">(</span><span class="n">idata</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;gaza_trace_plots.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Look for:</p>
<ul class="simple">
<li><p>Stationary chains (no drift)</p></li>
<li><p>Good mixing (fuzzy caterpillars)</p></li>
<li><p>Between-chain agreement</p></li>
</ul>
</section>
<section id="posterior-distributions">
<h3>4.3 Posterior Distributions<a class="headerlink" href="#posterior-distributions" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">az</span><span class="o">.</span><span class="n">plot_posterior</span><span class="p">(</span><span class="n">idata</span><span class="p">,</span> <span class="n">hdi_prob</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;gaza_posteriors.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="posterior-predictive-checks">
<h2>5. Posterior Predictive Checks<a class="headerlink" href="#posterior-predictive-checks" title="Link to this heading"></a></h2>
<section id="generate-predictions">
<h3>5.1 Generate Predictions<a class="headerlink" href="#generate-predictions" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">preds</span> <span class="o">=</span> <span class="n">posterior_predictive</span><span class="p">(</span>
    <span class="n">samples</span><span class="o">=</span><span class="n">samples</span><span class="p">,</span>
    <span class="n">events_by_day</span><span class="o">=</span><span class="n">events_by_day</span><span class="p">,</span>
    <span class="n">event_day_index</span><span class="o">=</span><span class="n">event_days</span><span class="p">,</span>
    <span class="n">event_coords</span><span class="o">=</span><span class="n">event_coords</span><span class="p">,</span>
    <span class="n">hospital_coords</span><span class="o">=</span><span class="n">hospital_coords</span><span class="p">,</span>
    <span class="n">injuries_obs_shape</span><span class="o">=</span><span class="n">injuries_obs</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>
    <span class="n">deaths_obs_shape</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">deaths_obs</span><span class="p">),</span>
    <span class="n">delay_probs</span><span class="o">=</span><span class="n">delay_probs</span><span class="p">,</span>
    <span class="n">rng_seed</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generated </span><span class="si">{</span><span class="n">preds</span><span class="p">[</span><span class="s1">&#39;obs_deaths&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> posterior predictive draws&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="visual-assessment">
<h3>5.2 Visual Assessment<a class="headerlink" href="#visual-assessment" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plot_fit</span><span class="p">(</span>
    <span class="n">dates</span><span class="o">=</span><span class="n">dates</span><span class="p">,</span>
    <span class="n">injuries_obs</span><span class="o">=</span><span class="n">injuries_obs</span><span class="p">,</span>
    <span class="n">deaths_obs</span><span class="o">=</span><span class="n">deaths_obs</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">preds</span><span class="o">=</span><span class="n">preds</span><span class="p">,</span>
    <span class="n">save_path</span><span class="o">=</span><span class="s1">&#39;gaza_model_fit.png&#39;</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>What to Check</strong>:</p>
<ol class="arabic simple">
<li><p>Do 95% credible intervals contain most observations?</p></li>
<li><p>Are there systematic biases (consistent over/under-prediction)?</p></li>
<li><p>Does the model capture temporal trends?</p></li>
</ol>
</section>
<section id="quantitative-checks">
<h3>5.3 Quantitative Checks<a class="headerlink" href="#quantitative-checks" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Coverage probability</span>
<span class="n">deaths_lower</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">preds</span><span class="p">[</span><span class="s1">&#39;obs_deaths&#39;</span><span class="p">],</span> <span class="mf">2.5</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">deaths_upper</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">preds</span><span class="p">[</span><span class="s1">&#39;obs_deaths&#39;</span><span class="p">],</span> <span class="mf">97.5</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">coverage</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">((</span><span class="n">deaths_obs</span><span class="o">.</span><span class="n">values</span> <span class="o">&gt;=</span> <span class="n">deaths_lower</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">deaths_obs</span><span class="o">.</span><span class="n">values</span> <span class="o">&lt;=</span> <span class="n">deaths_upper</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Observations within 95% CI: </span><span class="si">{</span><span class="n">coverage</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>

<span class="c1"># Mean absolute error</span>
<span class="n">pred_median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">preds</span><span class="p">[</span><span class="s1">&#39;obs_deaths&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">mae</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">deaths_obs</span><span class="o">.</span><span class="n">values</span> <span class="o">-</span> <span class="n">pred_median</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Median absolute error: </span><span class="si">{</span><span class="n">mae</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> deaths/day&quot;</span><span class="p">)</span>

<span class="c1"># Root mean squared error</span>
<span class="n">rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">((</span><span class="n">deaths_obs</span><span class="o">.</span><span class="n">values</span> <span class="o">-</span> <span class="n">pred_median</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Root mean squared error: </span><span class="si">{</span><span class="n">rmse</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> deaths/day&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="policy-relevant-forecasting">
<h2>6. Policy-Relevant Forecasting<a class="headerlink" href="#policy-relevant-forecasting" title="Link to this heading"></a></h2>
<section id="baseline-forecast">
<h3>6.1 Baseline Forecast<a class="headerlink" href="#baseline-forecast" title="Link to this heading"></a></h3>
<p>Project casualties if conflict continues at recent intensity:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Estimate recent event rate (last 30 days)</span>
<span class="n">recent_rate</span> <span class="o">=</span> <span class="n">events_by_day</span><span class="p">[</span><span class="o">-</span><span class="mi">30</span><span class="p">:]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recent event rate: </span><span class="si">{</span><span class="n">recent_rate</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> events/day&quot;</span><span class="p">)</span>

<span class="c1"># 30-day forecast</span>
<span class="n">future_events_baseline</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">recent_rate</span><span class="p">)</span>

<span class="n">forecast_baseline</span> <span class="o">=</span> <span class="n">forecast</span><span class="p">(</span>
    <span class="n">samples</span><span class="o">=</span><span class="n">samples</span><span class="p">,</span>
    <span class="n">future_events_by_day</span><span class="o">=</span><span class="n">future_events_baseline</span><span class="p">,</span>
    <span class="n">delay_probs</span><span class="o">=</span><span class="n">delay_probs</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">30-Day Baseline Forecast:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Total deaths: </span><span class="si">{</span><span class="n">forecast_baseline</span><span class="p">[</span><span class="s1">&#39;deaths_median&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;(95% CI: [</span><span class="si">{</span><span class="n">forecast_baseline</span><span class="p">[</span><span class="s1">&#39;deaths_lower&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">, &quot;</span>
      <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">forecast_baseline</span><span class="p">[</span><span class="s1">&#39;deaths_upper&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">])&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Daily rate: </span><span class="si">{</span><span class="n">forecast_baseline</span><span class="p">[</span><span class="s1">&#39;deaths_median&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> deaths/day&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="ceasefire-scenario">
<h3>6.2 Ceasefire Scenario<a class="headerlink" href="#ceasefire-scenario" title="Link to this heading"></a></h3>
<p>Model impact of a complete ceasefire:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ceasefire: 95% reduction in events</span>
<span class="n">future_events_ceasefire</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">recent_rate</span> <span class="o">*</span> <span class="mf">0.05</span><span class="p">)</span>

<span class="n">forecast_ceasefire</span> <span class="o">=</span> <span class="n">forecast</span><span class="p">(</span>
    <span class="n">samples</span><span class="o">=</span><span class="n">samples</span><span class="p">,</span>
    <span class="n">future_events_by_day</span><span class="o">=</span><span class="n">future_events_ceasefire</span><span class="p">,</span>
    <span class="n">delay_probs</span><span class="o">=</span><span class="n">delay_probs</span>
<span class="p">)</span>

<span class="n">deaths_baseline</span> <span class="o">=</span> <span class="n">forecast_baseline</span><span class="p">[</span><span class="s1">&#39;deaths_median&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">deaths_ceasefire</span> <span class="o">=</span> <span class="n">forecast_ceasefire</span><span class="p">[</span><span class="s1">&#39;deaths_median&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">lives_saved</span> <span class="o">=</span> <span class="n">deaths_baseline</span> <span class="o">-</span> <span class="n">deaths_ceasefire</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">30-Day Ceasefire Scenario (95% event reduction):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Total deaths: </span><span class="si">{</span><span class="n">deaths_ceasefire</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Lives saved: </span><span class="si">{</span><span class="n">lives_saved</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">lives_saved</span><span class="o">/</span><span class="n">deaths_baseline</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% reduction)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="scenario-comparison-visualization">
<h3>6.3 Scenario Comparison Visualization<a class="headerlink" href="#scenario-comparison-visualization" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">scenarios</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Baseline (Current Intensity)&#39;</span><span class="p">:</span> <span class="n">future_events_baseline</span><span class="p">,</span>
    <span class="s1">&#39;Partial De-escalation (50%)&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">recent_rate</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">),</span>
    <span class="s1">&#39;Ceasefire (95</span><span class="si">% r</span><span class="s1">eduction)&#39;</span><span class="p">:</span> <span class="n">future_events_ceasefire</span><span class="p">,</span>
    <span class="s1">&#39;Escalation (2x events)&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">recent_rate</span> <span class="o">*</span> <span class="mf">2.0</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">results_summary</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">events</span> <span class="ow">in</span> <span class="n">scenarios</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">forecast</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="n">events</span><span class="p">,</span> <span class="n">delay_probs</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">fc</span><span class="p">[</span><span class="s1">&#39;deaths_median&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">lower</span> <span class="o">=</span> <span class="n">fc</span><span class="p">[</span><span class="s1">&#39;deaths_lower&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">upper</span> <span class="o">=</span> <span class="n">fc</span><span class="p">[</span><span class="s1">&#39;deaths_upper&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">results_summary</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s1">&#39;Scenario&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
        <span class="s1">&#39;Deaths&#39;</span><span class="p">:</span> <span class="n">total</span><span class="p">,</span>
        <span class="s1">&#39;Lower&#39;</span><span class="p">:</span> <span class="n">lower</span><span class="p">,</span>
        <span class="s1">&#39;Upper&#39;</span><span class="p">:</span> <span class="n">upper</span>
    <span class="p">})</span>

<span class="c1"># Bar plot</span>
<span class="n">df_scenarios</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results_summary</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_scenarios</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">df_scenarios</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;darkred&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">],</span>
       <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">df_scenarios</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">],</span> 
            <span class="n">yerr</span><span class="o">=</span><span class="p">[</span><span class="n">df_scenarios</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df_scenarios</span><span class="p">[</span><span class="s1">&#39;Lower&#39;</span><span class="p">],</span>
                  <span class="n">df_scenarios</span><span class="p">[</span><span class="s1">&#39;Upper&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df_scenarios</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">]],</span>
            <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">capsize</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">df_scenarios</span><span class="p">[</span><span class="s1">&#39;Scenario&#39;</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;30-Day Total Deaths&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gaza Conflict: Forecast Scenarios (30 Days)&#39;</span><span class="p">,</span> 
             <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scenario_comparison.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Print table</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Scenario Comparison ===&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df_scenarios</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Scenario&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">35s</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">6.0f</span><span class="si">}</span><span class="s2"> deaths &quot;</span>
          <span class="sa">f</span><span class="s2">&quot;(95% CI: [</span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Lower&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Upper&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">])&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="sensitivity-analysis">
<h2>7. Sensitivity Analysis<a class="headerlink" href="#sensitivity-analysis" title="Link to this heading"></a></h2>
<section id="alternative-delay-distributions">
<h3>7.1 Alternative Delay Distributions<a class="headerlink" href="#alternative-delay-distributions" title="Link to this heading"></a></h3>
<p>Test robustness to delay assumptions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Shorter delays (most deaths within 1-2 days)</span>
<span class="n">short_delay</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">])</span>

<span class="n">mcmc_short</span><span class="p">,</span> <span class="n">samples_short</span> <span class="o">=</span> <span class="n">run_inference</span><span class="p">(</span>
    <span class="n">events_by_day</span><span class="o">=</span><span class="n">events_by_day</span><span class="p">,</span>
    <span class="n">event_day_index</span><span class="o">=</span><span class="n">event_days</span><span class="p">,</span>
    <span class="n">event_coords</span><span class="o">=</span><span class="n">event_coords</span><span class="p">,</span>
    <span class="n">hospital_coords</span><span class="o">=</span><span class="n">hospital_coords</span><span class="p">,</span>
    <span class="n">injuries_obs</span><span class="o">=</span><span class="n">injuries_obs</span><span class="p">,</span>
    <span class="n">deaths_obs</span><span class="o">=</span><span class="n">deaths_obs</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">delay_probs</span><span class="o">=</span><span class="n">short_delay</span><span class="p">,</span>
    <span class="n">num_warmup</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_chains</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">rng_seed</span><span class="o">=</span><span class="mi">43</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Sensitivity to Delay Distribution:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Original delay - p_late: </span><span class="si">{</span><span class="n">samples</span><span class="p">[</span><span class="s1">&#39;p_late&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Short delay -    p_late: </span><span class="si">{</span><span class="n">samples_short</span><span class="p">[</span><span class="s1">&#39;p_late&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If estimates are very sensitive, delay distribution should be estimated from data or fixed based on strong prior knowledge.</p>
</section>
</section>
<section id="interpretation-and-caveats">
<h2>8. Interpretation and Caveats<a class="headerlink" href="#interpretation-and-caveats" title="Link to this heading"></a></h2>
<section id="key-findings">
<h3>8.1 Key Findings<a class="headerlink" href="#key-findings" title="Link to this heading"></a></h3>
<p>Based on this analysis:</p>
<ol class="arabic simple">
<li><p><strong>Casualty Rates</strong>: Each conflict event produces ~5 hospital admissions and ~0.6 immediate deaths</p></li>
<li><p><strong>Hospital Fatality</strong>: ~49% of hospitalized casualties die (very high, reflecting limited medical resources and severe injuries)</p></li>
<li><p><strong>Spatial Pattern</strong>: Casualties are distributed among hospitals with ~0.8 degree correlation scale</p></li>
<li><p><strong>Forecast</strong>: Under baseline scenario, ~3,900 additional deaths expected in 30 days</p></li>
<li><p><strong>Ceasefire Impact</strong>: Near-complete ceasefire could save ~3,500 lives over 30 days</p></li>
</ol>
</section>
<section id="limitations">
<h3>8.2 Limitations<a class="headerlink" href="#limitations" title="Link to this heading"></a></h3>
<p><strong>Data Limitations</strong>:</p>
<ul class="simple">
<li><p>Hospital data is simulated (real data unavailable)</p></li>
<li><p>Mortality data may under-report true toll <span id="id4">[<a class="reference internal" href="#id20" title="Zeinab Jamaluddine, Zeina Chen, Hana Abukmail, Reem Assi, Hala Ghattas, Rima T Nakkash, Fouad M Maliha, Andrew J Tatem, Hala Aly, Loulou Kobeissi, and others. Estimating the true toll of the israel-gaza conflict. The Lancet, 404(10449):213–215, 2024.">Jamaluddine <em>et al.</em>, 2024</a>]</span></p></li>
<li><p>Event locations have measurement error</p></li>
<li><p>Reporting delays and blackouts create gaps</p></li>
</ul>
<p><strong>Model Limitations</strong>:</p>
<ul class="simple">
<li><p>Assumes stationarity (casualty rates don’t change over time)</p></li>
<li><p>Delay distribution is fixed (not estimated)</p></li>
<li><p>No time-varying effects or covariates</p></li>
<li><p>Poisson assumption may not capture overdispersion</p></li>
</ul>
<p><strong>Inference Limitations</strong>:</p>
<ul class="simple">
<li><p>Parameters partially confounded (identifiability issues)</p></li>
<li><p>Forecasts assume scenario event rates are accurate</p></li>
<li><p>Does not account for indirect deaths (starvation, disease)</p></li>
</ul>
</section>
<section id="appropriate-use">
<h3>8.3 Appropriate Use<a class="headerlink" href="#appropriate-use" title="Link to this heading"></a></h3>
<p>This analysis is appropriate for:</p>
<p>✓ Understanding casualty generation mechanisms
✓ Comparing alternative policy scenarios
✓ Quantifying forecast uncertainty
✓ Informing resource allocation decisions</p>
<p>This analysis should NOT be used for:</p>
<p>✗ Precise prediction of future casualties
✗ Attribution of individual deaths to specific events
✗ Legal or forensic purposes
✗ Complete accounting of conflict impact (indirect deaths not modeled)</p>
</section>
</section>
<section id="extensions-and-future-work">
<h2>9. Extensions and Future Work<a class="headerlink" href="#extensions-and-future-work" title="Link to this heading"></a></h2>
<section id="data-improvements">
<h3>9.1 Data Improvements<a class="headerlink" href="#data-improvements" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Real Hospital Data</strong>: Collaborate with health authorities for facility-level records</p></li>
<li><p><strong>Injury Severity</strong>: Stratify by injury type (burns, shrapnel, blunt trauma)</p></li>
<li><p><strong>Age/Gender</strong>: Demographic breakdowns to assess civilian impact</p></li>
</ul>
</section>
<section id="model-extensions">
<h3>9.2 Model Extensions<a class="headerlink" href="#model-extensions" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Time-Varying Parameters</strong>: Allow casualty rates to evolve (e.g., due to weapon changes)</p></li>
<li><p><strong>Covariates</strong>: Include ceasefire indicators, humanitarian corridor access</p></li>
<li><p><strong>Hierarchical Structure</strong>: Partial pooling across regions or event types</p></li>
<li><p><strong>Negative Binomial</strong>: Account for extra-Poisson variation</p></li>
</ul>
</section>
<section id="policy-applications">
<h3>9.3 Policy Applications<a class="headerlink" href="#policy-applications" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Resource Optimization</strong>: Where to position medical supplies?</p></li>
<li><p><strong>Evacuation Planning</strong>: Which areas need civilian evacuation corridors?</p></li>
<li><p><strong>International Aid</strong>: How to target humanitarian assistance?</p></li>
<li><p><strong>Diplomatic Efforts</strong>: Quantify benefits of different ceasefire proposals</p></li>
</ul>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h2>
<p>This tutorial demonstrated:</p>
<ol class="arabic simple">
<li><p>✓ Loading real ACLED and mortality data</p></li>
<li><p>✓ Handling missing hospital data through simulation</p></li>
<li><p>✓ Fitting models to messy real-world data</p></li>
<li><p>✓ Rigorous diagnostics and model checking</p></li>
<li><p>✓ Policy-relevant scenario forecasting</p></li>
<li><p>✓ Appropriate interpretation with caveats</p></li>
</ol>
<p><strong>Key Insights</strong>:</p>
<ul class="simple">
<li><p>Real data requires careful quality assessment</p></li>
<li><p>Model assumptions should be explicitly stated</p></li>
<li><p>Forecasts are conditional on scenarios (not predictions)</p></li>
<li><p>Uncertainty quantification is critical for decision-making</p></li>
<li><p>Results should always include limitations and caveats</p></li>
</ul>
<p><strong>Resources</strong>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://acleddata.com">ACLED</a>: Conflict event data</p></li>
<li><p><a class="reference external" href="https://data.techforpalestine.org">Tech for Palestine</a>: Gaza mortality data</p></li>
<li><p><a class="reference external" href="https://ojwatson.github.io/trace">TRACE Documentation</a>: Full package docs</p></li>
<li><p><a class="reference external" href="https://github.com/OJWatson/trace">GitHub Repository</a>: Source code</p></li>
</ul>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading"></a></h2>
<div class="docutils container" id="id5">
<div role="list" class="citation-list">
<div class="citation" id="id20" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id4">2</a>)</span>
<p>Zeinab Jamaluddine, Zeina Chen, Hana Abukmail, Reem Assi, Hala Ghattas, Rima T Nakkash, Fouad M Maliha, Andrew J Tatem, Hala Aly, Loulou Kobeissi, and others. Estimating the true toll of the israel-gaza conflict. <em>The Lancet</em>, 404(10449):213–215, 2024.</p>
</div>
<div class="citation" id="id18" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">2</a><span class="fn-bracket">]</span></span>
<p>Clionadh Raleigh, Andrew Linke, Håvard Hegre, and Joakim Karlsen. Introducing acled: an armed conflict location and event dataset. <em>Journal of Peace Research</em>, 47(5):651–660, 2010.</p>
</div>
<div class="citation" id="id19" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">3</a><span class="fn-bracket">]</span></span>
<p>Tech for Palestine. Gaza casualties dataset. <a class="reference external" href="https://data.techforpalestine.org">https://data.techforpalestine.org</a>, 2024. Accessed: 2024-12-04.</p>
</div>
</div>
</div>
<hr class="docutils" />
<p><em>This tutorial uses real data from an ongoing humanitarian crisis. All results should be interpreted with appropriate care and respect for those affected. The methods demonstrated here can be applied to other conflict settings with similar data availability.</em></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="01_basic_example.html" class="btn btn-neutral float-left" title="Tutorial: Basic Example with Simulated Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api/data.html" class="btn btn-neutral float-right" title="Data Module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, OJ Watson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>